<!DOCTYPE html>
    <html>
      <head>
          <title>Google Maps API</title>
          <script>
              var dataPoints = [{"timestamp":"1675785175","device_id":"5232022618856041373","latitude":50.0946387,"longitude":8.6953932},{"timestamp":"1675784532","device_id":"5232022618856041373","latitude":50.0947972,"longitude":8.6954955},{"timestamp":"1675782872","device_id":"5232022618856041373","latitude":50.0948011,"longitude":8.6957348},{"timestamp":"1675781499","device_id":"5232022618856041373","latitude":50.0949479,"longitude":8.696191},{"timestamp":"1675781114","device_id":"5232022618856041373","latitude":50.0951899,"longitude":8.6961267},{"timestamp":"1675780743","device_id":"5232022618856041373","latitude":50.0949025,"longitude":8.6961298},{"timestamp":"1675780057","device_id":"5232022618856041373","latitude":50.0947612,"longitude":8.6953877},{"timestamp":"1675778958","device_id":"5232022618856041373","latitude":50.0948014,"longitude":8.6956042},{"timestamp":"1675777814","device_id":"5232022618856041373","latitude":50.0948304,"longitude":8.6958442},{"timestamp":"1675776958","device_id":"5232022618856041373","latitude":50.0948369,"longitude":8.6959815},{"timestamp":"1675775215","device_id":"5232022618856041373","latitude":50.094914,"longitude":8.6960156},{"timestamp":"1675774941","device_id":"5232022618856041373","latitude":50.0957049,"longitude":8.6958152},{"timestamp":"1675774289","device_id":"5232022618856041373","latitude":50.095048,"longitude":8.6960984},{"timestamp":"1675774193","device_id":"5232022618856041373","latitude":50.0947626,"longitude":8.6962613},{"timestamp":"1675774022","device_id":"5232022618856041373","latitude":50.0949167,"longitude":8.6960668},{"timestamp":"1675773222","device_id":"5232022618856041373","latitude":50.0948255,"longitude":8.6955484},{"timestamp":"1675772811","device_id":"5232022618856041373","latitude":50.0950701,"longitude":8.6966065},{"timestamp":"1675772065","device_id":"5232022618856041373","latitude":50.0972415,"longitude":8.6934909},{"timestamp":"1675771614","device_id":"5232022618856041373","latitude":50.0973625,"longitude":8.6934508},{"timestamp":"1675771326","device_id":"5232022618856041373","latitude":50.0972857,"longitude":8.693793},{"timestamp":"1675770764","device_id":"5232022618856041373","latitude":50.0970055,"longitude":8.6946694},{"timestamp":"1675770612","device_id":"5232022618856041373","latitude":50.0973203,"longitude":8.6934611},{"timestamp":"1675770419","device_id":"5232022618856041373","latitude":50.0961286,"longitude":8.6954722},{"timestamp":"1675770269","device_id":"5232022618856041373","latitude":50.0930913,"longitude":8.6962355},{"timestamp":"1675769270","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675768885","device_id":"5232022618856041373","latitude":50.0921325,"longitude":8.696805},{"timestamp":"1675767729","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675766981","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675766680","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675766458","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675766157","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675765441","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675764655","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675764018","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675763318","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675762923","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675762368","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675761648","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675760848","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675760453","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675759918","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675758985","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675757871","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675757610","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675756231","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675756201","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675754978","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675754693","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675753777","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675753613","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675752347","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675752277","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675751826","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675751026","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675750455","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675749268","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675747958","device_id":"5232022618856041373","latitude":50.0958496,"longitude":8.699261},{"timestamp":"1675747403","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675746750","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675746102","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675745216","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675744911","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675744610","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675744300","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675743979","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675743014","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675742754","device_id":"5232022618856041373","latitude":50.0922791,"longitude":8.6967798},{"timestamp":"1675742146","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675741822","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675741503","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675740893","device_id":"5232022618856041373","latitude":50.0922474,"longitude":8.6968365},{"timestamp":"1675740316","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675739610","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675739013","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675738680","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675738102","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675737788","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675737395","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675736631","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675735913","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675735606","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675735207","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675734772","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675734466","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675734109","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675733754","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675733149","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675732258","device_id":"5232022618856041373","latitude":50.0921884,"longitude":8.6968858},{"timestamp":"1675731968","device_id":"5232022618856041373","latitude":50.092206,"longitude":8.6969166},{"timestamp":"1675731677","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675730745","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675730452","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675730089","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675729456","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675728594","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675728215","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675727952","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675727287","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675727006","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675726703","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675726398","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675725863","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675725164","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675724235","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675723901","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675723594","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675723291","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675722988","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675722626","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675722044","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675721318","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675720976","device_id":"5232022618856041373","latitude":50.0921254,"longitude":8.6969009},{"timestamp":"1675720517","device_id":"5232022618856041373","latitude":50.0922332,"longitude":8.6967804},{"timestamp":"1675720160","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675719825","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675719286","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675718584","device_id":"5232022618856041373","latitude":50.0921943,"longitude":8.6968742},{"timestamp":"1675717726","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675717389","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675716796","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675716457","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675716160","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675715446","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675715071","device_id":"5232022618856041373","latitude":50.0922094,"longitude":8.6968508}];
              function initMap() {
                  var map = new google.maps.Map(document.getElementById('map'), {
                  center: {lat: dataPoints[0]['latitude'], lng: dataPoints[0]['longitude']},
                   zoom: 800
              });
              dataPoints.forEach((data, index) => {

                var date = new Date(data['timestamp'] * 1000);
                var formattedTime = date.toLocaleString('en-US', {timeZoneName: 'short'})
                var marker;
                
                if(index === 0) {
                  console.log('first')
                  marker = new google.maps.Marker({
                      position: { lat: data['latitude'], lng: data['longitude'] },
                      map: map,
                      title: formattedTime,
                      zIndex:99999999,
                      icon: {
                          url: "http://maps.google.com/mapfiles/ms/icons/red-dot.png"
                      }
                  });
                } else {
                  marker = new google.maps.Marker({
                      position: { lat: data['latitude'], lng: data['longitude'] },
                      map: map,
                      title: formattedTime,
                      icon: {
                          url: "http://maps.google.com/mapfiles/ms/icons/blue-dot.png"
                      }
                  });
                }
            
              })
            }
          </script>
      </head>
      <body onload='initMap()'>
          <div id='map' style='height: 900px; width: 100%;'></div>
          <script src='https://maps.googleapis.com/maps/api/js?key=AIzaSyAFjmwW7a9Z_MnjMtn4lcGwJsJgiiUZ66k&callback=initMap'></script>
      </body>
    </html>