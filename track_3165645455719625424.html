<!DOCTYPE html>
    <html>
      <head>
          <title>Google Maps API</title>
          <script>
              var dataPoints = [{"timestamp":"1675788973","device_id":"3165645455719625424","latitude":50.0989294,"longitude":8.7027049},{"timestamp":"1675788370","device_id":"3165645455719625424","latitude":50.1003757,"longitude":8.6923201},{"timestamp":"1675787480","device_id":"3165645455719625424","latitude":50.0952488,"longitude":8.6960944},{"timestamp":"1675785356","device_id":"3165645455719625424","latitude":50.0948511,"longitude":8.6957858},{"timestamp":"1675785172","device_id":"3165645455719625424","latitude":50.0946387,"longitude":8.6953932},{"timestamp":"1675784542","device_id":"3165645455719625424","latitude":50.0947972,"longitude":8.6954955},{"timestamp":"1675782718","device_id":"3165645455719625424","latitude":50.0951644,"longitude":8.6959821},{"timestamp":"1675782700","device_id":"3165645455719625424","latitude":50.0950875,"longitude":8.6961979},{"timestamp":"1675781312","device_id":"3165645455719625424","latitude":50.0950926,"longitude":8.6957902},{"timestamp":"1675781114","device_id":"3165645455719625424","latitude":50.0951899,"longitude":8.6961267},{"timestamp":"1675780757","device_id":"3165645455719625424","latitude":50.0949025,"longitude":8.6961298},{"timestamp":"1675780615","device_id":"3165645455719625424","latitude":50.0949247,"longitude":8.6961196},{"timestamp":"1675779548","device_id":"3165645455719625424","latitude":50.0949301,"longitude":8.6961164},{"timestamp":"1675778945","device_id":"3165645455719625424","latitude":50.0948461,"longitude":8.6957716},{"timestamp":"1675778127","device_id":"3165645455719625424","latitude":50.094849,"longitude":8.6958411},{"timestamp":"1675777908","device_id":"3165645455719625424","latitude":50.0948649,"longitude":8.6958132},{"timestamp":"1675777840","device_id":"3165645455719625424","latitude":50.094856,"longitude":8.6958579},{"timestamp":"1675775345","device_id":"3165645455719625424","latitude":50.0919443,"longitude":8.6963311},{"timestamp":"1675774305","device_id":"3165645455719625424","latitude":50.0950604,"longitude":8.69622},{"timestamp":"1675774009","device_id":"3165645455719625424","latitude":50.09733,"longitude":8.6934404},{"timestamp":"1675773564","device_id":"3165645455719625424","latitude":50.0943916,"longitude":8.6950103},{"timestamp":"1675773471","device_id":"3165645455719625424","latitude":50.0948368,"longitude":8.6960025},{"timestamp":"1675772810","device_id":"3165645455719625424","latitude":50.0951104,"longitude":8.6966034},{"timestamp":"1675772334","device_id":"3165645455719625424","latitude":50.0973167,"longitude":8.6934404},{"timestamp":"1675771859","device_id":"3165645455719625424","latitude":50.097305,"longitude":8.6934501},{"timestamp":"1675771741","device_id":"3165645455719625424","latitude":50.0973291,"longitude":8.6935696},{"timestamp":"1675770973","device_id":"3165645455719625424","latitude":50.0966072,"longitude":8.6948918},{"timestamp":"1675770771","device_id":"3165645455719625424","latitude":50.0969745,"longitude":8.694789},{"timestamp":"1675770670","device_id":"3165645455719625424","latitude":50.0983595,"longitude":8.6943196},{"timestamp":"1675770634","device_id":"3165645455719625424","latitude":50.097326,"longitude":8.6934622},{"timestamp":"1675770366","device_id":"3165645455719625424","latitude":50.0946264,"longitude":8.6962218},{"timestamp":"1675769229","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675768549","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675768118","device_id":"3165645455719625424","latitude":50.0924994,"longitude":8.6969652},{"timestamp":"1675766953","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675766458","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675766157","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675765738","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675764900","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675764638","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675764044","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675763633","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675763322","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675762661","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675762360","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675762055","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675761314","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675760848","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675759918","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675759128","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675758988","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675757883","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675757358","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675757125","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675756229","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675754694","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675753743","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675752348","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675752254","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675751831","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675751263","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675749726","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675749365","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675748541","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675748244","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675747875","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675746696","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675746135","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675745485","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675744868","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675744533","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675744220","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675742927","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675741964","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675741555","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675741158","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675740894","device_id":"3165645455719625424","latitude":50.0922474,"longitude":8.6968365},{"timestamp":"1675740647","device_id":"3165645455719625424","latitude":50.0922474,"longitude":8.6968365},{"timestamp":"1675739627","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675739322","device_id":"3165645455719625424","latitude":50.0922297,"longitude":8.6968447},{"timestamp":"1675738327","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675738103","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675737728","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675737467","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675737153","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675736443","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675736240","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675735749","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675735599","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675734646","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675734466","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675734153","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675733794","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675733229","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675732603","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675732242","device_id":"3165645455719625424","latitude":50.0921884,"longitude":8.6968858},{"timestamp":"1675731958","device_id":"3165645455719625424","latitude":50.092206,"longitude":8.6969166},{"timestamp":"1675731324","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675730747","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675730376","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675730027","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675729596","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675728884","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675728519","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675727619","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675727285","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675726928","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675726404","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675726095","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675725528","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675724802","device_id":"3165645455719625424","latitude":50.0922873,"longitude":8.6968946},{"timestamp":"1675723890","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675723555","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675722904","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675722374","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675721442","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675721113","device_id":"3165645455719625424","latitude":50.0921254,"longitude":8.6969009},{"timestamp":"1675720504","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675720157","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675719585","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675719283","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675718980","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675718312","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675717649","device_id":"3165645455719625424","latitude":50.0921686,"longitude":8.6968305},{"timestamp":"1675716797","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675716408","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675716119","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675715469","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675714399","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":"1675714098","device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508}];
              function initMap() {
                  var map = new google.maps.Map(document.getElementById('map'), {
                  center: {lat: dataPoints[0]['latitude'], lng: dataPoints[0]['longitude']},
                   zoom: 800
              });
              dataPoints.forEach((data, index) => {

                var date = new Date(data['timestamp'] * 1000);
                var formattedTime = date.toLocaleString('en-US', {timeZoneName: 'short'})
                var marker;
                
                if(index === 0) {
                  console.log('first')
                  marker = new google.maps.Marker({
                      position: { lat: data['latitude'], lng: data['longitude'] },
                      map: map,
                      title: formattedTime,
                      zIndex:99999999,
                      icon: {
                          url: "http://maps.google.com/mapfiles/ms/icons/red-dot.png"
                      }
                  });
                } else {
                  marker = new google.maps.Marker({
                      position: { lat: data['latitude'], lng: data['longitude'] },
                      map: map,
                      title: formattedTime,
                      icon: {
                          url: "http://maps.google.com/mapfiles/ms/icons/blue-dot.png"
                      }
                  });
                }
            
              })
            }
          </script>
      </head>
      <body onload='initMap()'>
          <div id='map' style='height: 900px; width: 100%;'></div>
          <script src='https://maps.googleapis.com/maps/api/js?key=AIzaSyAFjmwW7a9Z_MnjMtn4lcGwJsJgiiUZ66k&callback=initMap'></script>
      </body>
    </html>