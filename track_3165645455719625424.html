<!DOCTYPE html>
    <html>
      <head>
          <title>Google Maps API</title>
          <script>
              var dataPoints = [{"timestamp":1675762661,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675761654,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675760449,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675758988,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675757883,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675754694,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675753743,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675752348,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675751831,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675749726,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675749365,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675748244,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675746696,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675745818,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675744533,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675743596,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675741964,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675740894,"device_id":"3165645455719625424","latitude":50.0922474,"longitude":8.6968365},{"timestamp":1675739964,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675738694,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675737153,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675736443,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675735096,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675733794,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675732603,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675731647,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675730027,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675728884,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675727942,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675726404,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675725528,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675724237,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675722904,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675721969,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675720812,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675719283,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675718312,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675716797,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675715469,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508},{"timestamp":1675714399,"device_id":"3165645455719625424","latitude":50.0922094,"longitude":8.6968508}];
              function initMap() {
                  var map = new google.maps.Map(document.getElementById('map'), {
                  center: {lat: dataPoints[0]['latitude'], lng: dataPoints[0]['longitude']},
                   zoom: 800
              });
              dataPoints.forEach((data, index) => {
                var date = new Date(data['timestamp'] * 1000);
                var formattedTime = date.toLocaleString('en-US', {timeZoneName: 'short'})
                var marker;
                
                if(index === 0) {
                  console.log('first')
                  marker = new google.maps.Marker({
                      position: { lat: data['latitude'], lng: data['longitude'] },
                      map: map,
                      title: formattedTime,
                      zIndex:99999999,
                      icon: {
                          url: "http://maps.google.com/mapfiles/ms/icons/red-dot.png"
                      }
                  });
                } else {
                  marker = new google.maps.Marker({
                      position: { lat: data['latitude'], lng: data['longitude'] },
                      map: map,
                      title: formattedTime,
                      icon: {
                          url: "http://maps.google.com/mapfiles/ms/icons/blue-dot.png"
                      }
                  });
                }
            
              })
            }
          </script>
      </head>
      <body onload='initMap()'>
          <div id='map' style='height: 1080px; width: 100%;'></div>
          <script src='https://maps.googleapis.com/maps/api/js?key=AIzaSyAFjmwW7a9Z_MnjMtn4lcGwJsJgiiUZ66k&callback=initMap'></script>
      </body>
    </html>